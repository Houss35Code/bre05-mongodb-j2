Exercice 1﻿
Augmentez de 50% la quantité de chaque document qui a un status C ou D.
db.inventory.updateMany({ status: { $in: ["C", "D"] } }, { $mul: { qty: 1.5 } });

{
  acknowledged: true,
  insertedId: null,
  matchedCount: 3,
  modifiedCount: 3,
  upsertedCount: 0
}






Exercice 2﻿
Augmentez maintenant de 150% les documents ayant un status A ou B et au moins 2 tags.
db.inventory.updateMany({ status: { $in: ["A", "B"] }, "tags.1": { $exists: true } }, { $mul: { qty: 2.5 } });

{
  acknowledged: true,
  insertedId: null,
  matchedCount: 4,
  modifiedCount: 4,
  upsertedCount: 0
}






Exercice 3﻿
Ajoutez un champ scores de type array avec le score 19 pour les entreprises ayant une qty supérieure ou égale à 75.
db.inventory.updateMany({ qty: { $gte: 75 } }, { $set: { scores: [19] } });

{
  acknowledged: true,
  insertedId: null,
  matchedCount: 3,
  modifiedCount: 3,
  upsertedCount: 0
}

Puis mettre à jour les entreprises ayant au moins une lettre a ou A dans leurs noms de société et ajouter leur un score 11 (champ scores).
db.inventory.updateMany({ society: { $regex: /a/i } }, { $push: { scores: 11 } });

{
  acknowledged: true,
  insertedId: null,
  matchedCount: 5,
  modifiedCount: 5,
  upsertedCount: 0
}

Affichez les docs qui ont un score de 11

Ajoutez une clé comment pour les sociétés Alex et ajouter un commentaire : "Hello Alex".
db.inventory.updateMany({ society: "Alex" }, { $set: { comment: "Hello Alex" } });

{
  acknowledged: true,
  insertedId: null,
  matchedCount: 2,
  modifiedCount: 2,
  upsertedCount: 0
}

Affichez maintenant tous les docs qui n'ont pas la clé comment.





Exercice 4﻿
Supprimez la propriété level se trouvant dans un/les document(s). Vérifiez qu'il existe au moins un doc qui possède le champ ou la clé level à l'aide d'une requête avant cette action.
db.inventory.updateMany({}, { $unset: { level: "" } });

{
  acknowledged: true,
  insertedId: null,
  matchedCount: 9,
  modifiedCount: 1,
  upsertedCount: 0
}

Vérifiez que le champ level n'existe plus après suppression.
[]